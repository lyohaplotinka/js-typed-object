var jsTypedObject=function(e){"use strict";function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,i){return(o=r()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i}).apply(null,arguments)}function i(e){var r="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,c)}function c(){return o(e,arguments,t(this).constructor)}return c.prototype=Object.create(e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n(c,e)})(e)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(a,e);var o,i,u=(o=a,i=r(),function(){var e,n=t(o);if(i){var r=t(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t="[TypeValidationError] ".concat(e);return u.call(this,t)}return a}(i(Error)),a=["string","number","boolean"];function f(e){return e.replace(/(\W|\d)/g,"")}function l(e){return Object.prototype.toString.call(e).slice(8,-1).trim().toLowerCase()}function s(e){var t=f(e);if(!a.includes(t))throw new u('"'.concat(e,'" is not a valid type definition'))}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=l(t),i=f(e.type);if(("undefined"!==o||!n)&&i!==o){var c=r?'Value "'.concat(t,'" (').concat(o,") cannot be placed in array of ").concat(i):'Type "'.concat(o,'" is not assignable to type "').concat(e.type,'"');throw new TypeError(c)}}var y=function(e){return"$$$".concat(e)};function v(e,t,n){var r=t.includes("[]");return r?r?function(e,t,n){var r=y(t),o="?"===n[0];Object.defineProperty(e,t,{get:function(){return this[r].value},set:function(e){if(o&&void 0===e)this[r].value=void 0;else{var t=this[r],n=t.type,i=t.cleanType;(0,t.$$setChecker)(e,l(e),i,n),this[r].value=new Proxy(e,{set:function(e,t,n){return this[r].$$checker(n),e[t]=n,!0}})}},enumerable:!0})}(e,n,t):void 0:function(e,t,n){var r=y(t),o="?"===n[0];Object.defineProperty(e,t,{get:function(){return this[r].value},set:function(e){p(this[r],e,o),this[r].value=e},enumerable:!0})}(e,n,t)}function d(e,t,n,r){var o=t.includes("[]");return o?o?function(e,t,n,r){var o="?"===t[0],i=f(t),c=l(n),u=o&&void 0===n,a=function(e,n,r,i){if(!Array.isArray(e))throw new TypeError('Type "'.concat(n,'" is not assignable to type "').concat(i,'"'));e.forEach((function(e){p({type:t},e,o,!0)}))};u||a(n,c,0,t);var s={type:t,cleanType:i,$$setChecker:a,value:u?void 0:new Proxy(n,{type:t,$$checker:function(e){p({type:this.type},e,o,!0)},set:function(e,t,n){return this.$$checker(n),e[t]=n,!0}})};Object.defineProperty(e,r,{writable:!1,configurable:!1,value:s})}(e,t,n,r):void 0:function(e,t,n,r){var o={type:t,value:n};p(o,n,"?"===t[0]),Object.defineProperty(e,r,{writable:!1,configurable:!1,value:o})}(e,t,n,r)}return e.createInterface=function(e,t){var n={name:t,fields:{}};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];s(o),Object.defineProperty(n.fields,r,{writable:!1,configurable:!1,enumerable:!0,value:o})}return Object.freeze(n)},e.createWithInterface=function(e,t){var n={};if(!e.fields)throw new ReferenceError('ObjectInterface missing "fields" property. You should define your interface via createInterface function.');for(var r in function(e,t){var n=Object.keys(e.fields);Object.keys(t).forEach((function(t){if(!n.includes(t))throw new Error('[InterfaceError] Key "'.concat(t,'" does not exist in interface "').concat(e.name,'"'))}))}(e,t),e.fields){var o;if(e.fields[r]){var i=e.fields[r],c=y(r);d(n,i,null!==(o=null==t?void 0:t[r])&&void 0!==o?o:void 0,c),v(n,i,r)}}return function(e,t){Object.defineProperties(e,{getType:{writable:!1,configurable:!1,enumerable:!1,value:function(t){var n=y(t);return e[n].type}},interface:{get:function(){return t.name}}})}(n,e),Object.preventExtensions(n),Object.seal(n),n},e}({});
